FAIL tests/integration/routes/user.admin.routes.integration.spec.ts
Integration Tests: User Admin Routes (/api/admin/users)
ΓêÜ should return 401 Unauthorized if an invalid/non-bypass token is provided (16 ms)
├ù should allow access with the correct test bypass token (16 ms)
ΓêÜ should return 400 Bad Request if validation fails (14 ms)
ΓêÜ should return 500 Internal Server Error if service throws an unexpected error (14 ms)
├ù should pass query parameters to the service (18 ms)
├ù should return 500 if the service fails unexpectedly (14 ms)
ΓêÜ should return 500 if the service fails unexpectedly (14 ms)
ΓêÜ should return 500 if service fails unexpectedly (16 ms)
ΓêÜ should return 500 if service fails unexpectedly (12 ms)
ΓêÜ should return 500 if service fails unexpectedly (13 ms)
POST /api/admin/users/:username/initiate-password-reset
ΓêÜ should return 500 if service fails unexpectedly (13 ms)
POST /api/admin/users/:username/set-password
ΓêÜ should return 200 OK on successful password set (13 ms)
ΓêÜ should return 400 Bad Request if password missing in body (11 ms)
ΓêÜ should return 500 if service fails unexpectedly (13 ms)
ΓêÜ should return 500 if service fails unexpectedly (16 ms)
ΓùÅ Integration Tests: User Admin Routes (/api/admin/users) ΓÇ║ Authentication Guard ΓÇ║ should allow access with the correct test bypass token
expected 200 "OK", got 500 "Internal Server Error"
at tests/integration/routes/user.admin.routes.integration.spec.ts:236:18
at tests/integration/routes/user.admin.routes.integration.spec.ts:9:71
ΓùÅ Integration Tests: User Admin Routes (/api/admin/users) ΓÇ║ GET /api/admin/users ΓÇ║ should return 200 OK with a list of users
expected 200 "OK", got 500 "Internal Server Error"
at tests/integration/routes/user.admin.routes.integration.spec.ts:315:18
at tests/integration/routes/user.admin.routes.integration.spec.ts:9:71
ΓùÅ Integration Tests: User Admin Routes (/api/admin/users) ΓÇ║ GET /api/admin/users ΓÇ║ should pass query parameters to the service
expected 200 "OK", got 500 "Internal Server Error"
at tests/integration/routes/user.admin.routes.integration.spec.ts:325:18
at tests/integration/routes/user.admin.routes.integration.spec.ts:9:71
ΓùÅ Integration Tests: User Admin Routes (/api/admin/users) ΓÇ║ GET /api/admin/users ΓÇ║ should return 500 if the service fails unexpectedly
expect(jest.fn()).toHaveBeenCalledTimes(expected)
Expected number of calls: 1
at tests/integration/routes/user.admin.routes.integration.spec.ts:336:52
Test Suites: 1 failed, 1 total
Tests:       4 failed, 37 passed, 41 total
